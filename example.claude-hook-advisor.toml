# Claude Hook Advisor Configuration Example
# This file shows various command mapping examples for different use cases
#
# ===== IMPORTANT: How Command Matching Works =====
# Commands are matched ONLY at the start of the line (primary command position).
# This ensures mappings apply to the main command, not subcommands or arguments.
#
# Examples:
#   ✅ "npm install"    → matches "npm" → becomes "bun install"
#   ✅ "npm start"      → matches "npm" → becomes "bun start"
#   ❌ "npx npm"        → does NOT match "npm" (not primary command)
#   ❌ "npm-check"      → does NOT match "npm" (different command)
#   ❌ "git rm file"    → does NOT match "rm" (rm is a subcommand)
#
# This prevents unintended replacements and keeps your command mappings predictable.

[commands]
# ===== Node.js / JavaScript Development =====
# Prefer Bun over npm/yarn for faster package management
npm = "bun"
yarn = "bun"
pnpm = "bun"
npx = "bunx"

# ===== Python Development =====
# Use uv for faster Python package management
pip = "uv pip"
"pip install" = "uv add"
"pip uninstall" = "uv remove"
python = "uv run python"

# ===== Modern CLI Tool Replacements =====
# Replace traditional tools with modern alternatives
cat = "bat"                    # Syntax highlighting
ls = "eza"                     # Better file listing
find = "fd"                    # Faster file search
grep = "rg"                    # Faster text search (ripgrep)
curl = "wget --verbose"        # Alternative HTTP client
wget = "curl -L"               # Alternative download tool

# ===== Git Shortcuts =====
# Encourage better git practices
"git push" = "git push --set-upstream origin HEAD"
"git commit" = "git commit -S"  # Always sign commits

# ===== Docker Alternatives =====
# Use Podman instead of Docker
docker = "podman"
"docker-compose" = "podman-compose"

# ===== Build Tools =====
# Prefer modern build tools
make = "just"                  # Modern command runner
cmake = "meson"               # Modern build system

# ===== Text Editors =====
# Encourage modern editors
vim = "nvim"                  # Neovim instead of vim
nano = "micro"                # Modern terminal editor

# ===== System Monitoring =====
# Modern system tools
top = "htop"                  # Better process viewer
ps = "procs"                  # Modern process viewer
du = "dust"                   # Better disk usage

# ===== Network Tools =====
# Modern networking tools
ping = "gping"                # Graphical ping
netstat = "ss"                # Modern socket statistics

# ===== File Operations =====
# Safer file operations
# NOTE: "rm" mapping only affects direct "rm" commands, not "git rm" or other subcommands
rm = "trash"                  # Move to trash instead of permanent delete
cp = "cp -i"                  # Interactive copy (ask before overwrite)
mv = "mv -i"                  # Interactive move (ask before overwrite)

# ===== Package Managers by OS =====
# Encourage consistent package managers
apt = "nala"                  # Better apt frontend
yum = "dnf"                   # Modern Red Hat package manager
brew = "brew"                 # Keep Homebrew as-is (already good)

# ===== Development Servers =====
# Use modern development servers
"python -m http.server" = "python -m http.server --bind 127.0.0.1"  # Bind to localhost only
"php -S" = "php -S 127.0.0.1:8000"  # Secure PHP dev server

# ===== Security Tools =====
# Encourage secure practices
ssh = "ssh -o VerifyHostKeyDNS=yes"  # Verify host keys via DNS
scp = "rsync -avz --progress"        # Use rsync instead of scp

# ===== Custom Project Commands =====
# Project-specific shortcuts (examples)
"npm start" = "bun dev"              # Use bun for dev server
"npm test" = "bun test --watch"      # Watch mode for tests
"npm run build" = "bun run build:prod"  # Production build

# ===== Dangerous Command Replacements =====
# Prevent accidental damage
"rm -rf" = "echo 'Use trash command instead of rm -rf for safety'"
"sudo rm" = "echo 'Consider using trash or be very careful with sudo rm'"
"chmod 777" = "echo 'chmod 777 is dangerous, consider more restrictive permissions'"

# ===== Environment-Specific =====
# Different tools for different environments
"kubectl" = "k9s"                   # Better Kubernetes interface
"terraform" = "tofu"                # OpenTofu instead of Terraform
"aws" = "aws --cli-auto-prompt"     # AWS CLI with auto-prompt

# ===== Semantic Directory Aliasing =====
# Map semantic names to actual filesystem paths
[semantic_directories]
# Standard documentation directories
docs = "~/Documents/Documentation"
central_docs = "~/Documents/Documentation"
project_docs = "~/Documents/Documentation/my-project"
claude_docs = "~/Documents/Documentation/claude"

# Development directories
src = "./src"
lib = "./lib"
tests = "./tests"
configs = "./config"
scripts = "./scripts"

# Project-specific directories
api_docs = "~/Documents/Documentation/my-project/api"
user_guides = "~/Documents/Documentation/my-project/guides"
examples = "~/Documents/Documentation/my-project/examples"

# Natural language aliases (requires quotes for spaces)
"project docs" = "~/Documents/Documentation/my-project"
"api documentation" = "~/Documents/Documentation/my-project/api"
"user guides" = "~/Documents/Documentation/my-project/guides"
"code examples" = "~/Documents/Documentation/my-project/examples"
"config files" = "./config"
"test files" = "./tests"

# Personal knowledge management
notes = "~/Documents/Notes"
research = "~/Documents/Research"
bookmarks = "~/Documents/Bookmarks"

# ===== Command History Tracking =====
# Track all Bash commands Claude runs to a SQLite database
[command_history]
enabled = true
log_file = "~/.claude-hook-advisor/bash-history.db"

# View history with:
#   claude-hook-advisor --history                  # Show recent commands
#   claude-hook-advisor --history --limit 50       # Show last 50 commands
#   claude-hook-advisor --history --failures       # Show only failed commands
#   claude-hook-advisor --history --pattern git    # Show git commands
#   claude-hook-advisor --history --session <ID>   # Show specific session

# ===== Security Pattern Detection =====
# Security patterns are ENABLED BY DEFAULT to detect dangerous code patterns.
# 27 built-in patterns cover vulnerabilities across 10+ programming languages.
#
# HOW IT WORKS:
# - Patterns check file paths (e.g., .github/workflows/*.yml) and content (e.g., eval())
# - When a match is found, Claude receives a security warning with safer alternatives
# - Warnings are shown once per session to avoid noise
#
# LANGUAGES COVERED:
#   JavaScript/TypeScript (7 patterns): eval, innerHTML, dangerouslySetInnerHTML, exec, etc.
#   Python (4 patterns): eval, exec, pickle, os.system
#   SQL (2 patterns): string interpolation, format injection
#   Rust (2 patterns): unsafe blocks, command injection
#   Go (2 patterns): command injection, SQL injection
#   Swift (3 patterns): force unwrap (!), unsafe pointers, NSPredicate
#   Java (2 patterns): Runtime.exec, deserialization
#   PHP (2 patterns): eval, unserialize
#   Ruby (2 patterns): eval variants, YAML.load
#   GitHub Actions (2 patterns): workflow injection
#
# DISABLE PATTERNS ONLY IF NEEDED:
# Most developers should keep all patterns enabled for maximum security.
# Only disable patterns if they're too noisy for your specific workflow.
#
[security_pattern_overrides]
# ===== JavaScript / TypeScript =====
# eval_injection = false                  # Disable eval() warnings
# new_function_injection = false          # Disable new Function() warnings
# innerHTML_xss = false                   # Disable innerHTML warnings
# react_dangerously_set_html = false      # Disable dangerouslySetInnerHTML warnings
# document_write_xss = false              # Disable document.write() warnings
# child_process_exec = false              # Disable exec()/execSync() warnings

# ===== Python =====
# python_eval = false                     # Disable eval() warnings
# python_exec = false                     # Disable exec() warnings
# pickle_deserialization = false          # Disable pickle.load warnings (common in ML/data science)
# os_system_injection = false             # Disable os.system() warnings

# ===== SQL =====
# sql_injection = false                   # Disable SQL string interpolation warnings
# sql_string_format = false               # Disable format() in SQL warnings

# ===== Rust =====
# rust_unsafe_block = false               # Disable unsafe {} warnings (common in systems programming)
# rust_command_injection = false          # Disable shell command warnings

# ===== Go =====
# go_command_injection = false            # Disable shell command warnings
# go_sql_injection = false                # Disable fmt.Sprintf in SQL warnings

# ===== Swift =====
# swift_force_unwrap = false              # Disable ! force unwrap warnings (very common in Swift)
# swift_unsafe_operations = false         # Disable unsafe pointer warnings
# swift_nspredicate_format = false        # Disable NSPredicate injection warnings

# ===== Java =====
# java_runtime_exec = false               # Disable Runtime.exec() warnings
# java_deserialization = false            # Disable ObjectInputStream warnings

# ===== PHP =====
# php_eval = false                        # Disable eval() warnings
# php_unserialize = false                 # Disable unserialize() warnings

# ===== Ruby =====
# ruby_eval = false                       # Disable eval/instance_eval/class_eval warnings
# ruby_yaml_load = false                  # Disable YAML.load warnings

# ===== GitHub Actions =====
# github_actions_workflow = false         # Disable .yml workflow warnings
# github_actions_workflow_yaml = false    # Disable .yaml workflow warnings

# ===== EXAMPLE USE CASES =====
#
# Swift/iOS Development (force unwrap is common):
#   swift_force_unwrap = false
#
# Building a REPL/Interpreter (needs eval):
#   eval_injection = false
#   python_eval = false
#   ruby_eval = false
#
# Systems Programming (needs unsafe):
#   rust_unsafe_block = false
#
# Data Science/ML (uses pickle):
#   pickle_deserialization = false